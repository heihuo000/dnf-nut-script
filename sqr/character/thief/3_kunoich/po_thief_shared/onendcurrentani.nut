









function onEndCurrentAni_po_thief_shared(obj)
{
	if(!obj) return;

	local id = obj.getVar("id").get_vector(0);
	local x = sq_GetXPos(obj);
	local y = sq_GetYPos(obj);
	local z = sq_GetZPos(obj);
	local parentChr = sq_ObjectToSQRCharacter(obj.getTopCharacter());



	switch(id)
	{
		case 0://???????? ???????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 1://???????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 2://???? ?? ????????? ????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 3://???? ?? ????????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 4://?????????????? ????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 5://?????????????? ????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 6://?????????????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 7://?????????????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 8://???? ?? ju??? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 9://???? ?? ju???
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ju??? ???
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ju??? ????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 10://???? ?? ???????? ????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 11://???? ?? ???????? ????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 12://???? ?? ???????? ???
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
				case 11://???? ?? ???????? ??? ???
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://???? ?? ???????? ??? ????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 13://???? ?? ???????? ????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ???? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
				case 11://???? ?? ???????? ???? ???
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://???? ?? ???????? ???? ????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 14://???? : ?????? ?????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? : ?????? ????? ???
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? : ?????? ????? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 15://???? : ?????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 16://???? : ?????? ?????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(17);//???? : ?????? ????
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, x, y, z);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 17://???? : ?????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 18://???? ?? ???? ????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 19://???? ?? ???? ????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 20://???? ?? ???? ???????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 21://???? ?? ???? ?????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 22://???? ?? ???? ?????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 23://???? ?? ???? ???????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 24://???? ?? ??chu?????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 25://???? ?? ??chu??????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ??chu?????? ??chu????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ??chu?????? ??chu???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 26://???? ?? ??chu?????? ?????? 
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 27://???? ?? ??????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 28://???? ?? ??????? ??????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 29://???? ?? ??????? ???????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 30://???? ?? ????????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 31://???? ?? ????????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 32://???? ?? ????????? ????????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 33://???? ?? ????????? ???????????1
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???1
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????1
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 34://???? ?? ????????? ???????????2
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???2
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????2
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 35://???? ?? ????????? ???????????3
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???3
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????3
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 36://???? ?? ????????? ???????????4
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???4
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????4
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 37://???? ?? ????????? ???????????5
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???5
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????5
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 38://???? ?? ????????? ???????????6
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ????????? ???6
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ????????? ???????6
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 39://?????????????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 40://?????????????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 41://?????????????? ??shuo???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 42://?????????????? ?????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 43://?????????????? ?????????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 44://?????????????? ????????????????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 45://???????? ?????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(46);//????????
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, sq_GetDistancePos(x, obj.getDirection(), -100), y - 1, z);
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(47);//???????? ???
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, sq_GetDistancePos(x, obj.getDirection(), -100), y - 1, z);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 46://????????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???????? ???
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ????????
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://???????? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 47://???????? ???
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???????? ??? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ??? ???
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 48://???? ?? ???????? ????? ???
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 49://???? ?? ???????? ????? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 50://???? ?? ???????? ?
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 51://???? ?? ???????? ?
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 52://???? ?? ???????? ?
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 53://???? ?? ???????? ?
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???????? ??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 54://???? ?? ???????? ??
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ???????? ?? ????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ???????? ?? ???1
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://???? ?? ???????? ?? ???2
					obj.sendStateOnlyPacket(13);
					obj.flushSetStatePacket();
				break;
				case 13://???? ?? ???????? ?? ???3
					obj.sendStateOnlyPacket(14);
					obj.flushSetStatePacket();
				break;
				case 14://???? ?? ???????? ?? ???4
					if(obj.isMyControlObject())
					{
						parentChr.sq_StartWrite();
						parentChr.sq_WriteDword(55);//???? ?? ???????? ?? ????
						sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, x, y, z);
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 55://???? ?? ???????? ?? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 56://???? ?? ???????? ?? ????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(57);//???? ?? ???????? ?? ???? ????
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, x, y, z);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 57://???? ?? ???????? ?? ???? ????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 58://??? ?????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(59);//???
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, x, y, z + 250);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 59://???
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://??? ????
                    local xRangeMin = sq_GetIntData(parentChr, SKILL_AMATERAS, 2);
                    local xRangeMax = xRangeMin / 2;
                    local yRange = sq_GetIntData(parentChr, SKILL_AMATERAS, 3);
                    local zRange = sq_GetIntData(parentChr, SKILL_AMATERAS, 4);
					local enemyObj = obj.sq_FindFirstTarget(-xRangeMin, xRangeMax, yRange, zRange);
					if(!enemyObj)
					{
						obj.sendStateOnlyPacket(12);
						obj.flushSetStatePacket();
					}
					else
					{
						obj.sendStateOnlyPacket(11);
						obj.flushSetStatePacket();
					}
				break;
				case 11://??? ???
					obj.sendStateOnlyPacket(12);
					obj.flushSetStatePacket();
				break;
				case 12://??? ???
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 60://??? ??????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 61://???????? ?? ?????? ????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 62://???????? ?? ?????? ???????? ??
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 63://???????? ?? ?????? ?????? ?????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 64://???????? ?? ?????? ??????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 65://???? ?? ????????? ????? ????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 66://?????????????? ????? ????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 67://?????????????? ????? ???????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 68://???? ?? ju??? ??????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 69://???? ?? ???????? ????? ????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 70://???? ?? ???????? ????? ???????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 71://???? : ?????? ??????????????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? : ?????? ????? ???????????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? : ?????? ????? ???????????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 72://???? ?? ???? ????? ????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 73://???? ?? ???? ????? ???????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 74://???? ?? ??chu?????? ??????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 75://???? ?? ??chu???????????????
			local state = obj.getVar("state").get_vector(0);
			switch(state)
			{
				case 10://???? ?? ??chu?????? ??chu????????????
					obj.sendStateOnlyPacket(11);
					obj.flushSetStatePacket();
				break;
				case 11://???? ?? ??chu?????? ??chu????????????
					if(obj.isMyControlObject())
					{
						sq_SendDestroyPacketPassiveObject(obj);
					}
				break;
			}
		break;
		case 76://???? ?? ??????? ??????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 77://???????? ??????????????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(46);//????????
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, sq_GetDistancePos(x, obj.getDirection(), -100), y - 1, z);
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(47);//???????? ???
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, sq_GetDistancePos(x, obj.getDirection(), -100), y - 1, z);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 78://???? ?? ???????? ????? ????????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 79://???? ?? ???????? ????? ???????????
			if(obj.isMyControlObject())
			{
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
		case 80://??? ??????????????
			if(obj.isMyControlObject())
			{
				parentChr.sq_StartWrite();
				parentChr.sq_WriteDword(59);//???
				sq_SendCreatePassiveObjectPacketPos(obj, 24356, 0, x, y, z + 250);
				sq_SendDestroyPacketPassiveObject(obj);
			}
		break;
	}
}



